{"ast":null,"code":"// Home.js\nimport React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getMovies}from'../../api/movies';import Navbar from'../../components/Navbar';import MovieCard from'../../components/MovieCard';import Swiper from'../../components/swiper';import Pagination from'../../components/Pagination';import no_movie from'../../assets/Movie-film-disk-with-clapper-board-vector-PNG.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ITEMS_PER_PAGE=20;// Adjust this value as needed\nconst Home=()=>{const dispatch=useDispatch();const{movies}=useSelector(state=>state.movies);// Assuming totalMovies exists in Redux state\nconst{listedmovies}=useSelector(state=>state.listedmovies);const totalMovies=movies.length;const[currentPage,setCurrentPage]=useState(1);const startIndex=(currentPage-1)*ITEMS_PER_PAGE;const endIndex=Math.min(startIndex+ITEMS_PER_PAGE,movies.length);// Ensure endIndex doesn't exceed movie count\nconst paginatedMovies=movies.slice(startIndex,endIndex);// Slice movies for current page\nconst totalPages=Math.ceil(totalMovies/ITEMS_PER_PAGE);// Calculate total pages\nconst handlePageChange=pageNumber=>{setCurrentPage(pageNumber);window.scrollTo(0,0);};useEffect(()=>{dispatch(getMovies());},[]);console.log(movies,listedmovies);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Swiper,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container1\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:(movies===null||movies===void 0?void 0:movies.length)>0?paginatedMovies.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.id)):/*#__PURE__*/_jsxs(\"div\",{style:{width:'85vw',height:'500px',textAlign:'center',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'32px',color:'white',opacity:'0.5'},children:\"No movies found\"}),/*#__PURE__*/_jsx(\"img\",{src:no_movie,alt:\"no_movie_logo\",style:{width:'300px'}})]})}),/*#__PURE__*/_jsx(Pagination,{totalPages:totalPages,currentPage:currentPage,handlePageChange:handlePageChange})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getMovies","Navbar","MovieCard","Swiper","Pagination","no_movie","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ITEMS_PER_PAGE","Home","dispatch","movies","state","listedmovies","totalMovies","length","currentPage","setCurrentPage","startIndex","endIndex","Math","min","paginatedMovies","slice","totalPages","ceil","handlePageChange","pageNumber","window","scrollTo","console","log","children","className","map","movie","id","style","width","height","textAlign","display","flexDirection","justifyContent","alignItems","fontSize","color","opacity","src","alt"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/src/pages/Home/index.js"],"sourcesContent":["// Home.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMovies } from '../../api/movies';\r\nimport Navbar from '../../components/Navbar';\r\nimport MovieCard from '../../components/MovieCard';\r\nimport Swiper from '../../components/swiper';\r\nimport Pagination from '../../components/Pagination';\r\nimport no_movie from '../../assets/Movie-film-disk-with-clapper-board-vector-PNG.png'\r\n\r\nconst ITEMS_PER_PAGE = 20; // Adjust this value as needed\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const { movies } = useSelector(state => state.movies); // Assuming totalMovies exists in Redux state\r\n  const { listedmovies } = useSelector(state => state.listedmovies);\r\n\r\n  const totalMovies = movies.length;\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n  const endIndex = Math.min(startIndex + ITEMS_PER_PAGE, movies.length); // Ensure endIndex doesn't exceed movie count\r\n\r\n  const paginatedMovies = movies.slice(startIndex, endIndex); // Slice movies for current page\r\n\r\n  const totalPages = Math.ceil(totalMovies / ITEMS_PER_PAGE); // Calculate total pages\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getMovies());\r\n  }, []);\r\n\r\n  console.log(movies, listedmovies);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <Swiper />\r\n      </div>\r\n      <div className=\"container1\">\r\n        <Navbar />\r\n        <section className='content'>\r\n          {movies?.length > 0 ? ( paginatedMovies.map((movie) => (<MovieCard key={movie.id} movie={movie} />))) : \r\n          (<div style={{width:'85vw', height:'500px', textAlign:'center', display:'flex', flexDirection:'column', justifyContent:'center', alignItems:'center'}}><span style={{ fontSize:'32px', color:'white', opacity:'0.5' }} >No movies found</span><img src={no_movie} alt='no_movie_logo' style={{width:'300px'}}/></div>)}\r\n        </section>\r\n        <Pagination\r\n          totalPages={totalPages}\r\n          currentPage={currentPage}\r\n          handlePageChange={handlePageChange}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}