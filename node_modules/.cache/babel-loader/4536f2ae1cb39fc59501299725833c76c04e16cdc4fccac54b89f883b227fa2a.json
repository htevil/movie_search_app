{"ast":null,"code":"import { getTabbableElements } from \"./chunk.LXDTFLWU.js\";\nimport { __yieldStar } from \"./chunk.IFDWM6P4.js\";\n\n// src/internal/active-elements.ts\nfunction activeElements() {\n  let activeElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.activeElement;\n  return function* () {\n    if (activeElement === null || activeElement === void 0) return;\n    yield activeElement;\n    if (\"shadowRoot\" in activeElement && activeElement.shadowRoot && activeElement.shadowRoot.mode !== \"closed\") {\n      yield* __yieldStar(activeElements(activeElement.shadowRoot.activeElement));\n    }\n  }();\n}\nfunction getDeepestActiveElement() {\n  return [...activeElements()].pop();\n}\n\n// src/internal/modal.ts\nvar activeModals = [];\nvar Modal = class {\n  constructor(element) {\n    this.tabDirection = \"forward\";\n    this.handleFocusIn = () => {\n      if (!this.isActive()) return;\n      this.checkFocus();\n    };\n    this.handleKeyDown = event => {\n      var _a;\n      if (event.key !== \"Tab\" || this.isExternalActivated) return;\n      if (!this.isActive()) return;\n      const currentActiveElement = getDeepestActiveElement();\n      this.previousFocus = currentActiveElement;\n      if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n        return;\n      }\n      if (event.shiftKey) {\n        this.tabDirection = \"backward\";\n      } else {\n        this.tabDirection = \"forward\";\n      }\n      const tabbableElements = getTabbableElements(this.element);\n      let currentFocusIndex = tabbableElements.findIndex(el => el === currentActiveElement);\n      this.previousFocus = this.currentFocus;\n      const addition = this.tabDirection === \"forward\" ? 1 : -1;\n      while (true) {\n        if (currentFocusIndex + addition >= tabbableElements.length) {\n          currentFocusIndex = 0;\n        } else if (currentFocusIndex + addition < 0) {\n          currentFocusIndex = tabbableElements.length - 1;\n        } else {\n          currentFocusIndex += addition;\n        }\n        this.previousFocus = this.currentFocus;\n        const nextFocus = /** @type {HTMLElement} */\n        tabbableElements[currentFocusIndex];\n        if (this.tabDirection === \"backward\") {\n          if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n            return;\n          }\n        }\n        if (nextFocus && this.possiblyHasTabbableChildren(nextFocus)) {\n          return;\n        }\n        event.preventDefault();\n        this.currentFocus = nextFocus;\n        (_a = this.currentFocus) == null ? void 0 : _a.focus({\n          preventScroll: false\n        });\n        const allActiveElements = [...activeElements()];\n        if (allActiveElements.includes(this.currentFocus) || !allActiveElements.includes(this.previousFocus)) {\n          break;\n        }\n      }\n      setTimeout(() => this.checkFocus());\n    };\n    this.handleKeyUp = () => {\n      this.tabDirection = \"forward\";\n    };\n    this.element = element;\n    this.elementsWithTabbableControls = [\"iframe\"];\n  }\n  /** Activates focus trapping. */\n  activate() {\n    activeModals.push(this.element);\n    document.addEventListener(\"focusin\", this.handleFocusIn);\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n    document.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Deactivates focus trapping. */\n  deactivate() {\n    activeModals = activeModals.filter(modal => modal !== this.element);\n    this.currentFocus = null;\n    document.removeEventListener(\"focusin\", this.handleFocusIn);\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n    document.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Determines if this modal element is currently active or not. */\n  isActive() {\n    return activeModals[activeModals.length - 1] === this.element;\n  }\n  /** Activates external modal behavior and temporarily disables focus trapping. */\n  activateExternal() {\n    this.isExternalActivated = true;\n  }\n  /** Deactivates external modal behavior and re-enables focus trapping. */\n  deactivateExternal() {\n    this.isExternalActivated = false;\n  }\n  checkFocus() {\n    if (this.isActive() && !this.isExternalActivated) {\n      const tabbableElements = getTabbableElements(this.element);\n      if (!this.element.matches(\":focus-within\")) {\n        const start = tabbableElements[0];\n        const end = tabbableElements[tabbableElements.length - 1];\n        const target = this.tabDirection === \"forward\" ? start : end;\n        if (typeof (target == null ? void 0 : target.focus) === \"function\") {\n          this.currentFocus = target;\n          target.focus({\n            preventScroll: false\n          });\n        }\n      }\n    }\n  }\n  possiblyHasTabbableChildren(element) {\n    return this.elementsWithTabbableControls.includes(element.tagName.toLowerCase()) || element.hasAttribute(\"controls\");\n  }\n};\nexport { Modal };","map":{"version":3,"names":["getTabbableElements","__yieldStar","activeElements","activeElement","arguments","length","undefined","document","shadowRoot","mode","getDeepestActiveElement","pop","activeModals","Modal","constructor","element","tabDirection","handleFocusIn","isActive","checkFocus","handleKeyDown","event","_a","key","isExternalActivated","currentActiveElement","previousFocus","possiblyHasTabbableChildren","shiftKey","tabbableElements","currentFocusIndex","findIndex","el","currentFocus","addition","nextFocus","preventDefault","focus","preventScroll","allActiveElements","includes","setTimeout","handleKeyUp","elementsWithTabbableControls","activate","push","addEventListener","deactivate","filter","modal","removeEventListener","activateExternal","deactivateExternal","matches","start","end","target","tagName","toLowerCase","hasAttribute"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.ODFLWOL6.js"],"sourcesContent":["import {\n  getTabbableElements\n} from \"./chunk.LXDTFLWU.js\";\nimport {\n  __yieldStar\n} from \"./chunk.IFDWM6P4.js\";\n\n// src/internal/active-elements.ts\nfunction* activeElements(activeElement = document.activeElement) {\n  if (activeElement === null || activeElement === void 0)\n    return;\n  yield activeElement;\n  if (\"shadowRoot\" in activeElement && activeElement.shadowRoot && activeElement.shadowRoot.mode !== \"closed\") {\n    yield* __yieldStar(activeElements(activeElement.shadowRoot.activeElement));\n  }\n}\nfunction getDeepestActiveElement() {\n  return [...activeElements()].pop();\n}\n\n// src/internal/modal.ts\nvar activeModals = [];\nvar Modal = class {\n  constructor(element) {\n    this.tabDirection = \"forward\";\n    this.handleFocusIn = () => {\n      if (!this.isActive())\n        return;\n      this.checkFocus();\n    };\n    this.handleKeyDown = (event) => {\n      var _a;\n      if (event.key !== \"Tab\" || this.isExternalActivated)\n        return;\n      if (!this.isActive())\n        return;\n      const currentActiveElement = getDeepestActiveElement();\n      this.previousFocus = currentActiveElement;\n      if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n        return;\n      }\n      if (event.shiftKey) {\n        this.tabDirection = \"backward\";\n      } else {\n        this.tabDirection = \"forward\";\n      }\n      const tabbableElements = getTabbableElements(this.element);\n      let currentFocusIndex = tabbableElements.findIndex((el) => el === currentActiveElement);\n      this.previousFocus = this.currentFocus;\n      const addition = this.tabDirection === \"forward\" ? 1 : -1;\n      while (true) {\n        if (currentFocusIndex + addition >= tabbableElements.length) {\n          currentFocusIndex = 0;\n        } else if (currentFocusIndex + addition < 0) {\n          currentFocusIndex = tabbableElements.length - 1;\n        } else {\n          currentFocusIndex += addition;\n        }\n        this.previousFocus = this.currentFocus;\n        const nextFocus = (\n          /** @type {HTMLElement} */\n          tabbableElements[currentFocusIndex]\n        );\n        if (this.tabDirection === \"backward\") {\n          if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n            return;\n          }\n        }\n        if (nextFocus && this.possiblyHasTabbableChildren(nextFocus)) {\n          return;\n        }\n        event.preventDefault();\n        this.currentFocus = nextFocus;\n        (_a = this.currentFocus) == null ? void 0 : _a.focus({ preventScroll: false });\n        const allActiveElements = [...activeElements()];\n        if (allActiveElements.includes(this.currentFocus) || !allActiveElements.includes(this.previousFocus)) {\n          break;\n        }\n      }\n      setTimeout(() => this.checkFocus());\n    };\n    this.handleKeyUp = () => {\n      this.tabDirection = \"forward\";\n    };\n    this.element = element;\n    this.elementsWithTabbableControls = [\"iframe\"];\n  }\n  /** Activates focus trapping. */\n  activate() {\n    activeModals.push(this.element);\n    document.addEventListener(\"focusin\", this.handleFocusIn);\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n    document.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Deactivates focus trapping. */\n  deactivate() {\n    activeModals = activeModals.filter((modal) => modal !== this.element);\n    this.currentFocus = null;\n    document.removeEventListener(\"focusin\", this.handleFocusIn);\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n    document.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Determines if this modal element is currently active or not. */\n  isActive() {\n    return activeModals[activeModals.length - 1] === this.element;\n  }\n  /** Activates external modal behavior and temporarily disables focus trapping. */\n  activateExternal() {\n    this.isExternalActivated = true;\n  }\n  /** Deactivates external modal behavior and re-enables focus trapping. */\n  deactivateExternal() {\n    this.isExternalActivated = false;\n  }\n  checkFocus() {\n    if (this.isActive() && !this.isExternalActivated) {\n      const tabbableElements = getTabbableElements(this.element);\n      if (!this.element.matches(\":focus-within\")) {\n        const start = tabbableElements[0];\n        const end = tabbableElements[tabbableElements.length - 1];\n        const target = this.tabDirection === \"forward\" ? start : end;\n        if (typeof (target == null ? void 0 : target.focus) === \"function\") {\n          this.currentFocus = target;\n          target.focus({ preventScroll: false });\n        }\n      }\n    }\n  }\n  possiblyHasTabbableChildren(element) {\n    return this.elementsWithTabbableControls.includes(element.tagName.toLowerCase()) || element.hasAttribute(\"controls\");\n  }\n};\n\nexport {\n  Modal\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}