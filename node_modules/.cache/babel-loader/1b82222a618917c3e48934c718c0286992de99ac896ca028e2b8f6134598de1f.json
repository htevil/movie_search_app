{"ast":null,"code":"// Home.js\nimport React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{getMovies}from'../../api/movies';import{setcurrentPage}from'../../slice/movieSlice/movieSlice';import Navbar from'../../components/Navbar';import MovieCard from'../../components/MovieCard';import Swiper from'../../components/swiper';import Pagination from'../../components/Pagination';import loader from'../../assets/loader.svg';import NMF from'../../assets/NFM.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ITEMS_PER_PAGE=20;// Adjust this value as needed\nconst Home=()=>{const dispatch=useDispatch();const{movies,currentPage}=useSelector(state=>state.movies);const[dataload,setDataload]=useState(true);const totalMovies=movies.length;const startIndex=(currentPage-1)*ITEMS_PER_PAGE;const endIndex=Math.min(startIndex+ITEMS_PER_PAGE,totalMovies);const paginatedMovies=movies.slice(startIndex,endIndex);const totalPages=Math.ceil(totalMovies/ITEMS_PER_PAGE);const handlePageChange=pageNumber=>{dispatch(setcurrentPage(pageNumber));window.scrollTo(0,0);};useEffect(()=>{const fetchMovies=async()=>{setDataload(true);await dispatch(getMovies());setDataload(false);};fetchMovies();},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Swiper,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container1\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:dataload?/*#__PURE__*/_jsxs(\"div\",{style:{width:'85vw',height:'500px',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"img\",{src:loader,style:{width:'200px',opacity:'0.4'},alt:\"Loading...\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'white',marginTop:'10px'},children:\"Loading\\u2026\"})]}):movies.length>0?paginatedMovies.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.id)):/*#__PURE__*/_jsxs(\"div\",{style:{width:'85vw',height:'550px',textAlign:'center',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"img\",{src:NMF,style:{width:'380px',opacity:'0.4'},alt:\"No Movies Found\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px',color:'white',opacity:'0.7'},children:\"No movies found\\u2026\"})]})}),/*#__PURE__*/_jsx(Pagination,{totalPages:totalPages,handlePageChange:handlePageChange})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getMovies","setcurrentPage","Navbar","MovieCard","Swiper","Pagination","loader","NMF","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ITEMS_PER_PAGE","Home","dispatch","movies","currentPage","state","dataload","setDataload","totalMovies","length","startIndex","endIndex","Math","min","paginatedMovies","slice","totalPages","ceil","handlePageChange","pageNumber","window","scrollTo","fetchMovies","children","className","style","width","height","display","flexDirection","justifyContent","alignItems","src","opacity","alt","color","marginTop","map","movie","id","textAlign","fontSize"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/src/pages/Home/index.js"],"sourcesContent":["// Home.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMovies } from '../../api/movies';\r\nimport { setcurrentPage } from '../../slice/movieSlice/movieSlice';\r\nimport Navbar from '../../components/Navbar';\r\nimport MovieCard from '../../components/MovieCard';\r\nimport Swiper from '../../components/swiper';\r\nimport Pagination from '../../components/Pagination';\r\nimport loader from '../../assets/loader.svg';\r\nimport NMF from '../../assets/NFM.png';\r\n\r\nconst ITEMS_PER_PAGE = 20; // Adjust this value as needed\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const { movies, currentPage } = useSelector((state) => state.movies);\r\n  const [dataload, setDataload] = useState(true);\r\n\r\n  const totalMovies = movies.length;\r\n  const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n  const endIndex = Math.min(startIndex + ITEMS_PER_PAGE, totalMovies);\r\n  const paginatedMovies = movies.slice(startIndex, endIndex);\r\n  const totalPages = Math.ceil(totalMovies / ITEMS_PER_PAGE);\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    dispatch(setcurrentPage(pageNumber));\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      setDataload(true);\r\n      await dispatch(getMovies());\r\n      setDataload(false);\r\n    };\r\n    fetchMovies();\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <Swiper />\r\n      </div>\r\n      <div className=\"container1\">\r\n        <Navbar />\r\n        <section className=\"content\">\r\n          {dataload ? (\r\n            <div\r\n              style={{\r\n                width: '85vw',\r\n                height: '500px',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <img src={loader} style={{ width: '200px', opacity: '0.4' }} alt=\"Loading...\" />\r\n              <span style={{ color: 'white', marginTop: '10px' }}>Loading&hellip;</span>\r\n            </div>\r\n          ) : movies.length > 0 ? (\r\n            paginatedMovies.map((movie) => (\r\n              <MovieCard key={movie.id} movie={movie} />\r\n            ))\r\n          ) : (\r\n            <div\r\n              style={{\r\n                width: '85vw',\r\n                height: '550px',\r\n                textAlign: 'center',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <img src={NMF} style={{ width: '380px', opacity: '0.4' }} alt=\"No Movies Found\" />\r\n              <span style={{ fontSize: '16px', color: 'white', opacity: '0.7' }}>\r\n                No movies found&hellip;\r\n              </span>\r\n            </div>\r\n          )}\r\n        </section>\r\n        <Pagination totalPages={totalPages} handlePageChange={handlePageChange} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}