{"ast":null,"code":"import*as React from'react';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{setcurrentPage}from'../../../slice/movieSlice/movieSlice';import{getMoviesByfilter}from'../../../api/movies';import{getAllGenres}from\"../../../api/movies\";import{SlButton,SlDropdown,SlMenu,SlMenuItem}from'@shoelace-style/shoelace/dist/react';import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dropdown(){const dispatch=useDispatch();const[selectedValue,setSelectedValue]=useState('');const{genres}=useSelector(state=>state.movies);const[isActive,setIsActive]=useState(false);const[isActive1,setIsActive1]=useState(false);const handleChange=event=>{if(event.target.value===selectedValue){setSelectedValue(\"\");dispatch(getMoviesByfilter(\"genre:\"));}else{setSelectedValue(event.target.value);console.log(event.target.value);let value=`genre:${event.target.value}`;window.scrollTo(0,0);dispatch(setcurrentPage(1));dispatch(getMoviesByfilter(value));}setIsActive(!isActive);};useEffect(()=>{dispatch(getAllGenres());},[]);useEffect(()=>{if(selectedValue){setIsActive1(true);}else{setIsActive1(false);}},[selectedValue]);return/*#__PURE__*/_jsxs(SlDropdown,{placement:\"top-start\",children:[/*#__PURE__*/_jsx(SlButton,{className:`btn2 ${isActive?'activedb':''}`,variant:\"text\",slot:\"trigger\",value:selectedValue,children:selectedValue===\"\"?\"Genres\":selectedValue}),/*#__PURE__*/_jsx(SlMenu,{children:(genres===null||genres===void 0?void 0:genres.length)>0&&genres.map(item=>/*#__PURE__*/_jsx(SlMenuItem,{className:`menu ${isActive1&&item===selectedValue?'activedd':''}`,value:item,id:item,onClick:handleChange,children:item}))})]});}","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","setcurrentPage","getMoviesByfilter","getAllGenres","SlButton","SlDropdown","SlMenu","SlMenuItem","jsx","_jsx","jsxs","_jsxs","Dropdown","dispatch","selectedValue","setSelectedValue","genres","state","movies","isActive","setIsActive","isActive1","setIsActive1","handleChange","event","target","value","console","log","window","scrollTo","placement","children","className","variant","slot","length","map","item","id","onClick"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/src/components/SelectorComponent/Dropdown/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setcurrentPage } from '../../../slice/movieSlice/movieSlice';\r\nimport { getMoviesByfilter } from '../../../api/movies';\r\nimport { getAllGenres } from \"../../../api/movies\";\r\nimport { SlButton, SlDropdown, SlMenu, SlMenuItem } from '@shoelace-style/shoelace/dist/react';\r\nimport \"./index.css\"\r\n\r\nexport default function Dropdown() { \r\n    const dispatch = useDispatch();\r\n    const [selectedValue, setSelectedValue] = useState('');\r\n    const { genres } = useSelector((state) => state.movies);\r\n    const [isActive, setIsActive] = useState(false); \r\n    const [isActive1, setIsActive1] = useState(false); \r\n\r\n    const handleChange = (event) => {\r\n      if(event.target.value===selectedValue){\r\n        setSelectedValue(\"\");\r\n        dispatch(getMoviesByfilter(\"genre:\"));\r\n      }else{\r\n        setSelectedValue(event.target.value);\r\n        console.log(event.target.value)\r\n        let value = `genre:${event.target.value}`\r\n        window.scrollTo(0, 0);\r\n        dispatch(setcurrentPage(1));\r\n        dispatch(getMoviesByfilter(value));\r\n      }\r\n      setIsActive(!isActive); \r\n    };\r\n\r\n    useEffect(() => {\r\n      dispatch(getAllGenres());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (selectedValue) {\r\n        setIsActive1(true)\r\n      } else {\r\n        setIsActive1(false)\r\n      }\r\n    }, [selectedValue]);\r\n\r\n    return (\r\n      <SlDropdown placement=\"top-start\">\r\n        <SlButton className={`btn2 ${isActive ? 'activedb' : ''}`} variant=\"text\" slot=\"trigger\" value={selectedValue}>\r\n          { (selectedValue === \"\")? \"Genres\" : selectedValue  }\r\n        </SlButton>\r\n        <SlMenu>\r\n          {genres?.length > 0 && genres.map((item) => (\r\n            <SlMenuItem className={`menu ${isActive1 && item === selectedValue ? 'activedd' : ''}`} value={item} id={item} onClick={handleChange} >\r\n              {item}\r\n            </SlMenuItem>\r\n          ))}\r\n        </SlMenu>\r\n      </SlDropdown>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}