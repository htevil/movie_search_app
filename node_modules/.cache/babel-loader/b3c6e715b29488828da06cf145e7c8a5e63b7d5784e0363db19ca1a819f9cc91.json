{"ast":null,"code":"// MoviesCard.js\nimport React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{addMovies,removeMovies}from'../../slice/watchlistSlice/watchlistSlice';import Detail from'../../components/Modal';import star from\"../../assets/star.svg\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MoviesCard(_ref){let{movie}=_ref;const dispatch=useDispatch();const{listedmovies}=useSelector(state=>state.listedmovies);const[isActive,setIsActive]=useState(false);const{id,rank,title,genres,ratings,year,image_url,director}=movie;const formattedGenres=genres.replace(/\\[|\\]|'/g,'').replace(/\\s*,\\s*/g,',');const handleWatchlistToggle=event=>{const movieId=event.target.value;const isMovieListed=listedmovies.includes(movieId);if(isMovieListed){dispatch(removeMovies(movieId));}else{dispatch(addMovies(movieId));}};useEffect(()=>{setIsActive(listedmovies.includes(movie.id));},[listedmovies,movie.id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",id:`movie-${id}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"poster\",style:{backgroundImage:`url(${image_url})`},children:[/*#__PURE__*/_jsx(\"button\",{className:`watchlist ${isActive?'active':''}`,value:id,onClick:handleWatchlistToggle}),/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:rank})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",style:{marginTop:'5px',marginBottom:'5px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'160px',fontWeight:'500',color:'#FBF6E2'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{width:'32px',fontSize:'12px'},children:year})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#525CEB',fontWeight:'700'},children:\"Genre: \"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px'},children:formattedGenres})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#525CEB',fontWeight:'700'},children:\"Director: \"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px'},children:director})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"img\",{src:star,alt:\"Rating\"}),ratings]}),/*#__PURE__*/_jsx(Detail,{movie:movie})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","addMovies","removeMovies","Detail","star","jsx","_jsx","jsxs","_jsxs","MoviesCard","_ref","movie","dispatch","listedmovies","state","isActive","setIsActive","id","rank","title","genres","ratings","year","image_url","director","formattedGenres","replace","handleWatchlistToggle","event","movieId","target","value","isMovieListed","includes","className","children","style","backgroundImage","onClick","marginTop","marginBottom","display","justifyContent","alignItems","width","fontWeight","color","fontSize","src","alt"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/src/components/MovieCard/index.js"],"sourcesContent":["// MoviesCard.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addMovies, removeMovies } from '../../slice/watchlistSlice/watchlistSlice';\r\nimport Detail from '../../components/Modal';\r\nimport star from \"../../assets/star.svg\";\r\nimport \"./index.css\";\r\n\r\nexport default function MoviesCard({ movie }) {\r\n  const dispatch = useDispatch();\r\n  const { listedmovies } = useSelector(state => state.listedmovies);\r\n  const [isActive, setIsActive] = useState(false);\r\n\r\n  const { id, rank, title, genres, ratings, year, image_url, director } = movie;\r\n  const formattedGenres = genres.replace(/\\[|\\]|'/g, '').replace(/\\s*,\\s*/g, ',');\r\n\r\n  const handleWatchlistToggle = (event) => {\r\n    const movieId = event.target.value;\r\n    const isMovieListed = listedmovies.includes(movieId);\r\n\r\n    if (isMovieListed) {\r\n      dispatch(removeMovies(movieId));\r\n    } else {\r\n      dispatch(addMovies(movieId));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsActive(listedmovies.includes(movie.id));\r\n  }, [listedmovies, movie.id]);\r\n\r\n  return (\r\n    <div className=\"card\" id={`movie-${id}`}>\r\n      <div className='poster' style={{ backgroundImage: `url(${image_url})` }}>\r\n        <button\r\n          className={`watchlist ${isActive ? 'active' : ''}`}\r\n          value={id}\r\n          onClick={handleWatchlistToggle}\r\n        ></button>\r\n        <div className='rank'>{rank}</div>\r\n      </div>\r\n      <div className='detail' style={{ marginTop: '5px', marginBottom: '5px' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\r\n          <div style={{ width: '160px', fontWeight: '500', color: '#FBF6E2' }}>{title}</div>\r\n          <div style={{ width: '32px', fontSize: '12px' }}>{year}</div>\r\n        </div>\r\n        <div style={{ marginBottom: '8px' }}>\r\n          <span style={{ color: '#525CEB', fontWeight: '700' }}>Genre: </span>\r\n          <span style={{ fontSize: '12px' }}>{formattedGenres}</span>\r\n        </div>\r\n        <div style={{ marginBottom: '8px' }}>\r\n          <span style={{ color: '#525CEB', fontWeight: '700' }}>Director: </span>\r\n          <span style={{ fontSize: '12px' }}>{director}</span>\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n          <span style={{ display: 'flex', alignItems: 'center' }}>\r\n            <img src={star} alt=\"Rating\" />{ratings}\r\n          </span>\r\n          <Detail movie={movie} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}