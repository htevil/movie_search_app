{"ast":null,"code":"import axios from'axios';import{setMovies,setGenres}from'../slice/movieSlice/movieSlice';const BaseURL=\"https://movie-search-app-server.onrender.com/api/movies\";let value1=\"\";let value2=1;export const getMovies=()=>async dispatch=>{try{const{data}=await axios.get(BaseURL);dispatch(setMovies(data));return data;}catch(err){return err;}};export const getMoviesBySearch=value=>async dispatch=>{const url=BaseURL+'/search';try{const{data}=await axios.get(url,{params:{search:value}});dispatch(setMovies(data));}catch(err){return err;}};export const getAllGenres=()=>async dispatch=>{const url=BaseURL+'/genres';try{const{data}=await axios.get(url);dispatch(setGenres(data));}catch(err){return err;}};export const getMoviesByfilter=value=>async dispatch=>{if(value.includes(\"genre\")){let index=value.search(\":\");value1=value.slice(index+1);}else{let index=value.search(\":\");value2=value.slice(index+1);}const url=BaseURL+'/filter';try{const{data}=await axios.get(url,{params:{genre:value1,rating:value2}});dispatch(setMovies(data));}catch(err){return err;}};","map":{"version":3,"names":["axios","setMovies","setGenres","BaseURL","value1","value2","getMovies","dispatch","data","get","err","getMoviesBySearch","value","url","params","search","getAllGenres","getMoviesByfilter","includes","index","slice","genre","rating"],"sources":["C:/Users/ASUS/Project/Web Project/Greekforgreek_project/React project/movie_search_app/src/api/movies.js"],"sourcesContent":["import axios from 'axios';\r\nimport { setMovies, setGenres } from '../slice/movieSlice/movieSlice';\r\n\r\nconst BaseURL = \"https://movie-search-app-server.onrender.com/api/movies\";\r\nlet value1 = \"\";\r\nlet value2 = 1;\r\n\r\nexport const getMovies = () => async dispatch => {\r\n    try {\r\n        const {data} = await axios.get(BaseURL);\r\n        dispatch(setMovies(data))\r\n        return data\r\n    }catch(err){\r\n        return err\r\n    }\r\n}\r\n\r\nexport const getMoviesBySearch = (value) => async dispatch => {\r\n    const url = BaseURL + '/search';\r\n    try {\r\n        const {data} = await axios.get(url,{\r\n            params: {\r\n                search: value\r\n            }\r\n        });\r\n        dispatch(setMovies(data));\r\n    }catch(err){\r\n        return err\r\n    }\r\n}\r\n\r\nexport const getAllGenres = () => async dispatch => {\r\n    const url = BaseURL + '/genres';\r\n    try {\r\n        const {data} = await axios.get(url);\r\n        dispatch(setGenres(data));\r\n    }catch(err){\r\n        return err\r\n    }\r\n}\r\n\r\n\r\nexport const getMoviesByfilter = (value) => async dispatch => {\r\n\r\n    if (value.includes(\"genre\")){\r\n        let index = value.search(\":\");\r\n        value1 = value.slice(index+1);\r\n    } else{\r\n        let index =  value.search(\":\");\r\n        value2 = value.slice(index+1);\r\n    }\r\n\r\n    const url = BaseURL + '/filter';\r\n\r\n    try {\r\n        const {data} = await axios.get(url,{\r\n            params: {\r\n                genre: value1,\r\n                rating: value2\r\n            }\r\n        });\r\n        dispatch(setMovies(data));\r\n    }catch(err){\r\n        return err\r\n    }\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,SAAS,KAAQ,gCAAgC,CAErE,KAAM,CAAAC,OAAO,CAAG,yDAAyD,CACzE,GAAI,CAAAC,MAAM,CAAG,EAAE,CACf,GAAI,CAAAC,MAAM,CAAG,CAAC,CAEd,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,KAAM,CAAAC,QAAQ,EAAI,CAC7C,GAAI,CACA,KAAM,CAACC,IAAI,CAAC,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAACN,OAAO,CAAC,CACvCI,QAAQ,CAACN,SAAS,CAACO,IAAI,CAAC,CAAC,CACzB,MAAO,CAAAA,IAAI,CACf,CAAC,MAAME,GAAG,CAAC,CACP,MAAO,CAAAA,GAAG,CACd,CACJ,CAAC,CAED,MAAO,MAAM,CAAAC,iBAAiB,CAAIC,KAAK,EAAK,KAAM,CAAAL,QAAQ,EAAI,CAC1D,KAAM,CAAAM,GAAG,CAAGV,OAAO,CAAG,SAAS,CAC/B,GAAI,CACA,KAAM,CAACK,IAAI,CAAC,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAACI,GAAG,CAAC,CAC/BC,MAAM,CAAE,CACJC,MAAM,CAAEH,KACZ,CACJ,CAAC,CAAC,CACFL,QAAQ,CAACN,SAAS,CAACO,IAAI,CAAC,CAAC,CAC7B,CAAC,MAAME,GAAG,CAAC,CACP,MAAO,CAAAA,GAAG,CACd,CACJ,CAAC,CAED,MAAO,MAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,KAAM,CAAAT,QAAQ,EAAI,CAChD,KAAM,CAAAM,GAAG,CAAGV,OAAO,CAAG,SAAS,CAC/B,GAAI,CACA,KAAM,CAACK,IAAI,CAAC,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAACI,GAAG,CAAC,CACnCN,QAAQ,CAACL,SAAS,CAACM,IAAI,CAAC,CAAC,CAC7B,CAAC,MAAME,GAAG,CAAC,CACP,MAAO,CAAAA,GAAG,CACd,CACJ,CAAC,CAGD,MAAO,MAAM,CAAAO,iBAAiB,CAAIL,KAAK,EAAK,KAAM,CAAAL,QAAQ,EAAI,CAE1D,GAAIK,KAAK,CAACM,QAAQ,CAAC,OAAO,CAAC,CAAC,CACxB,GAAI,CAAAC,KAAK,CAAGP,KAAK,CAACG,MAAM,CAAC,GAAG,CAAC,CAC7BX,MAAM,CAAGQ,KAAK,CAACQ,KAAK,CAACD,KAAK,CAAC,CAAC,CAAC,CACjC,CAAC,IAAK,CACF,GAAI,CAAAA,KAAK,CAAIP,KAAK,CAACG,MAAM,CAAC,GAAG,CAAC,CAC9BV,MAAM,CAAGO,KAAK,CAACQ,KAAK,CAACD,KAAK,CAAC,CAAC,CAAC,CACjC,CAEA,KAAM,CAAAN,GAAG,CAAGV,OAAO,CAAG,SAAS,CAE/B,GAAI,CACA,KAAM,CAACK,IAAI,CAAC,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAACI,GAAG,CAAC,CAC/BC,MAAM,CAAE,CACJO,KAAK,CAAEjB,MAAM,CACbkB,MAAM,CAAEjB,MACZ,CACJ,CAAC,CAAC,CACFE,QAAQ,CAACN,SAAS,CAACO,IAAI,CAAC,CAAC,CAC7B,CAAC,MAAME,GAAG,CAAC,CACP,MAAO,CAAAA,GAAG,CACd,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}